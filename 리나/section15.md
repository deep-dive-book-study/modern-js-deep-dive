## let, const 키워드와 블록 레벨 스코프

### var 키워드는 무엇인가?

- ES6에서 `let`과 `const`가 도입되기 전 변수를 선언할 때 사용한 키워드
- 레벨 스코프 지원
- 선언 단계와 초기화 단계가 동시에 진행
  - 선언 단계를 통해 변수 이름 등록
  - 초기화 단계를 통해 변수에 암묵적으로 `undefined` 할당
  - 변수 선언 후 초기화 단계를 거치지 않으면 확보된 메모리 공간에는 쓰레기 값이 남아 있을 수 있는데 `var` 키워드는 암묵적으로 초기화를 수행하기 때문에 이런 위험을 방지할 수 있다
- 재할당 가능

---

### var 키워드의 문제점은?

- **변수 중복 선언 허용**
  - 값까지 할당했다면 의도치 않게 **먼저 선언된 변수 값이 변경되는 부작용 발생**
- **함수 레벨 스코프**
  - 함수의 코드 블록만을 지역 스코프로 인정
  - **함수 외부에서 `var` 키워드로 선언한 변수는 코드 블록 내에서 선언해도 모두 전역 변수**
  - 함수 레벨 스코프는 **전역 변수를 남발할 가능성을 높여** 이로 인해 의도치 않게 **전역 변수가 중복 선언되는 경우 발생**
- **변수 호이스팅**
  - 변수 선언문이 스코프의 선두로 끌어 올려진 것처럼 동작
  - **변수 선언문 이전에 참조 가능**
    - 단, 할당문 이전에 변수 참조 시 `undefined` 반환
  - 변수 선언문 이전에 변수를 참조하는 것은 변수 호이스팅에 의해 에러를 발생시키지는 않지만 프로그램 흐름상 맞지 않을뿐더러 **가독성 저하와 오류 발생 확률을 높임**

---

### `let` 과 `const`

- 공통점
  - **블록 레벨 스코프**
    - **함수를 포함한 모든 코드 블록을 지역 스코프로 인정**
      ```javascript
      let i = 0; // 전역 변수

      for(let i = 0; i < 10; i++){
      	console.log(i); // 0 부터 9 출력 => i는 지역 변수
      {

      console.log(i); // 0 => 전역 변수 i 값 유지
      ```
  - **재선언 불가능**
  - **TDZ 적용**
    - TDZ란 변수가 선언되었지만 아직 초기화되지 않은 상태로 일시적인 사각지대
    - **호이스팅은 일어나지만, 선언 전에 접근 시 참조 에러 발생**
- 차이점
  - **`let`**
    - **재할당 가능 ⇒ 변수 선언**
    - **선언 시 초기화 필수 아님**
  - **`const`**
    - **재할당 불가능 ⇒ 상수 선언**
    - **선언과 동시에 초기화 필수**
